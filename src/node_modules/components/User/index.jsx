import React from 'react'
import PropTypes from 'prop-types'
import { Route, Switch } from 'react-router-dom'
import UserSearch from 'containers/User/Search'
import Loading from 'components/Common/Loading'
import UserListContainer from 'containers/User/List'
import CommitLayout from 'layouts/User/Commit'
import './style.css'

const User = ({ loading, match: { path } }) => {
    return (
      <Loading loading={loading}>
        <div className="userDashboard__wrapper">
          <div className="userSearch__wrapper">
            <UserSearch/>
          </div>
          <Switch>
            <Route component={CommitLayout} path={`${path}/commits/:user`} />
            <Route component={UserListContainer} />
          </Switch>
        </div>
      </Loading>
    )
}

User.propTypes = {
  loading: PropTypes.bool.isRequired,
  match: PropTypes.object.isRequired,
}

export default User
